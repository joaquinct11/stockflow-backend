# ========================================
# CONFIGURACIÓN BASE - STOCKFLOW
# ========================================

spring:
  application:
    name: StockFlow

  jpa:
    show-sql: false
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: true

  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true

  jackson:
    time-zone: America/Lima
    date-format: yyyy-MM-dd'T'HH:mm:ss

# Servidor
server:
  port: 8080
  servlet:
    context-path: /api

# JWT
jwt:
  secret: mySecretKeyForJwtTokenGenerationThatIsAtLeast256BitsLongForHS256Algorithm
  expiration: 3600000        # 1 hora
  refresh:
    expiration: 604800000    # 7 días

# ? AGREGAR ESTO - CORS por defecto
cors:
  allowed-origins:
    - http://localhost:5173
    - http://localhost:3000
    - http://127.0.0.1:5173

# Logging
logging:
  level:
    root: INFO
    com.stockflow: DEBUG
    org.springframework.security: DEBUG

# Actuator
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: always